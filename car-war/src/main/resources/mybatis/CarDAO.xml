<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.bwl.dao.ICarDAO">

    <select id="bannerQueryList" resultType="java.util.Map">
        SELECT * FROM car_banner
    </select>

    <select id="newsQueryList" resultType="java.util.Map">
        SELECT * FROM car_news
    </select>
    <select id="photosQueryList" resultType="java.util.Map">
        SELECT * FROM car_photos
    </select>
    <select id="servicesQueryList"  resultType="java.util.Map">
        SELECT * FROM car_services
    </select>

    <select id="newQueryPage" resultType="java.util.Map">
        SELECT
        *
        FROM
        car_news
        <if test="orderBy!=null">
            ORDER BY ${orderBy} ${sortBy}
        </if>
        <if test="offset != null">
            limit ${offset}, ${rows}
        </if>
    </select>
    <select id="newQueryCount" resultType="java.lang.Integer">
        SELECT
        count(id)
        FROM
        car_news
    </select>
    <select id="newQueryById" resultType="java.util.Map">
        SELECT
        *
        FROM
        car_news
        WHERE
        id = #{id}
    </select>

    <select id="carQueryPage" resultType="java.util.Map">
        SELECT
        *
        FROM
        car_car
        <if test="orderBy!=null">
            ORDER BY ${orderBy} ${sortBy}
        </if>
        <if test="offset != null">
            limit ${offset}, ${rows}
        </if>
    </select>
    <select id="carQueryCount" resultType="java.lang.Integer">
        SELECT
        count(id)
        FROM
        car_car
    </select>
    <select id="carQueryById" resultType="java.util.Map">
        SELECT
        *
        FROM
        car_car
        WHERE
        id = #{id}
    </select>

    <select id="buyQueryPage" resultType="java.util.Map">
        SELECT
        *
        FROM
        car_buy
        <if test="orderBy!=null">
            ORDER BY ${orderBy} ${sortBy}
        </if>
        <if test="offset != null">
            limit ${offset}, ${rows}
        </if>
    </select>
    <select id="buyQueryCount" resultType="java.lang.Integer">
        SELECT
        count(id)
        FROM
        car_buy
    </select>
    <select id="buyQueryById" resultType="java.util.Map">
        SELECT
        *
        FROM
        car_buy
        WHERE
        id = #{id}
    </select>
    <select id="login" resultType="java.lang.Boolean">
        SELECT
        count(1)
        FROM
        car_login
        WHERE
        name = #{username}
        AND
        password = #{pwd}
    </select>
    <insert id="addBuy" parameterType="java.util.Map">
        INSERT INTO car_buy (
        name,
        phone,
        message,
        carId
        ) VALUES (
        #{name},
        #{phone},
        #{message},
        #{carId}
        )
    </insert>
</mapper>

